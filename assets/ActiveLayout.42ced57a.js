import{G as I,H as N,J as b,K as L,r as _,bn as O,M as c,X as f,av as P,U as M,P as y,ay as $,T as k,d as E,y as U,bo as K,o as j,c as G,w as d,a as u,u as o,bp as J,bq as V,br as X,e as W,t as x,A as Y,f as Z,R as ee,I as B,bs as te,bt as T,b as ae,p as oe,bu as ne}from"./index.04684acb.js";import{b as ue}from"./index.3937e18b.js";const le=I({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(a,{slots:g,emit:m}){const{proxy:{$q:s}}=k(),t=N(L,b);if(t===b)return console.error("QFooter needs to be child of QLayout"),b;const i=_(parseInt(a.heightHint,10)),l=_(!0),w=_(O.value===!0||t.isContainer.value===!0?0:window.innerHeight),h=c(()=>a.reveal===!0||t.view.value.indexOf("F")>-1||s.platform.is.ios&&t.isContainer.value===!0),p=c(()=>t.isContainer.value===!0?t.containerHeight.value:w.value),Q=c(()=>{if(a.modelValue!==!0)return 0;if(h.value===!0)return l.value===!0?i.value:0;const e=t.scroll.value.position+p.value+i.value-t.height.value;return e>0?e:0}),R=c(()=>a.modelValue!==!0||h.value===!0&&l.value!==!0),C=c(()=>a.modelValue===!0&&R.value===!0&&a.reveal===!0),q=c(()=>"q-footer q-layout__section--marginal "+(h.value===!0?"fixed":"absolute")+"-bottom"+(a.bordered===!0?" q-footer--bordered":"")+(R.value===!0?" q-footer--hidden":"")+(a.modelValue!==!0?" q-layout--prevent-focus"+(h.value!==!0?" hidden":""):"")),z=c(()=>{const e=t.rows.value.bottom,n={};return e[0]==="l"&&t.left.space===!0&&(n[s.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),e[2]==="r"&&t.right.space===!0&&(n[s.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),n});function r(e,n){t.update("footer",e,n)}function v(e,n){e.value!==n&&(e.value=n)}function A({height:e}){v(i,e),r("size",e)}function D(){if(a.reveal!==!0)return;const{direction:e,position:n,inflectionPoint:S}=t.scroll.value;v(l,e==="up"||n-S<100||t.height.value-p.value-n-i.value<300)}function F(e){C.value===!0&&v(l,!0),m("focusin",e)}f(()=>a.modelValue,e=>{r("space",e),v(l,!0),t.animate()}),f(Q,e=>{r("offset",e)}),f(()=>a.reveal,e=>{e===!1&&v(l,a.modelValue)}),f(l,e=>{t.animate(),m("reveal",e)}),f([i,t.scroll,t.height],D),f(()=>s.screen.height,e=>{t.isContainer.value!==!0&&v(w,e)});const H={};return t.instances.footer=H,a.modelValue===!0&&r("size",i.value),r("space",a.modelValue),r("offset",Q.value),P(()=>{t.instances.footer===H&&(t.instances.footer=void 0,r("size",0),r("offset",0),r("space",!1))}),()=>{const e=M(g.default,[y($,{debounce:0,onResize:A})]);return a.elevated===!0&&e.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),y("footer",{class:q.value,style:z.value,onFocusin:F},e)}}}),re={class:"text-h6"},ce=E({__name:"ActiveLayout",setup(a){const g=ue(1e3),m=new Date().getTime(),s=_("-");return f(g,()=>{const t=new Date().getTime();s.value=U(t-m)}),(t,i)=>{const l=K("router-view");return j(),G(o(ne),{elevated:"",view:"hHh LpR lff"},{default:d(()=>[u(o(J),{elevated:""},{default:d(()=>[u(o(V),null,{default:d(()=>[u(o(X),null,{default:d(()=>[W(x(o(Y).APP_NAME),1)]),_:1}),u(Z,{flat:"",dense:"",to:{name:o(ee).DASHBOARD},icon:o(B).RETURN_TO_DASHBOARD},null,8,["to","icon"])]),_:1})]),_:1}),u(o(te),null,{default:d(()=>[u(l)]),_:1}),u(o(le),{class:"bg-dark"},{default:d(()=>[u(o(V),null,{default:d(()=>[u(o(T)),u(o(ae),{name:o(B).TIMER,size:"sm",class:"q-mr-sm"},null,8,["name"]),oe("div",re,x(s.value),1),u(o(T))]),_:1})]),_:1})]),_:1})}}});export{ce as default};
