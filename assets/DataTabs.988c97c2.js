import{Q as ea}from"./QPage.6bf7e2ad.js";import{i as oe,am as ct,an as Ct,G as I,m as v,ao as mt,aj as X,ap as ta,aq as at,ar as Vt,as as Ft,n as u,at as aa,q as ve,b as Ce,au as Mt,r as fe,j as la,k as dt,ah as lt,av as na,a5 as oa,J as Fe,aw as ra,ax as ia,aa as yt,ay as sa,az as ua,aA as ca,K as Ae,aB as da,aC as Ge,aD as vt,aE as qt,aF as ft,aG as St,aH as va,aI as fa,aJ as ba,$ as nt,a1 as ot,a3 as ma,aK as ga,aL as It,aM as ha,aN as Pt,a0 as ya,a2 as Sa,aO as wa,aP as _t,aQ as gt,aR as pt,aS as Ca,aT as qa,aU as bt,aV as Oe,g as de,_ as Nt,d as Qt,s as Pa,v as _a,ab as pa,aW as jt,aX as ue,D as Ye,o as K,c as ae,w as ee,a as ne,u as p,f as Ta,ag as ce,aY as ke,Z as ka,B as Ze,F as et,ai as tt,e as Tt,t as kt,I as Re,a9 as Ra,N as Rt}from"./index.66b77c2e.js";import{r as xa,u as Ba,a as Da,c as Ht,Q as zt}from"./QSelect.1cbf4097.js";import{g as xt,s as Bt}from"./touch.70a9dd44.js";import{c as La}from"./selection.d4051259.js";import{u as Ea}from"./use-cache.b0833c75.js";import{Q as $a}from"./QList.585de1c9.js";import"./QChip.c7c0f1c4.js";import"./QItemSection.a17054bd.js";import"./QMenu.66a83f1b.js";import"./format.3e32b8d9.js";function Aa(e,t,r){const s=r===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?s[0]:s[1]}${e?` text-${e}`:""}`}const Oa=["left","center","right","justify"],Va=oe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Oa.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:r}){const{proxy:s}=fe(),{$q:l}=s,{registerTick:a}=ct(),{registerTick:o}=ct(),{registerTick:c}=ct(),{registerTimeout:b,removeTimeout:S}=Ct(),{registerTimeout:i,removeTimeout:g}=Ct(),m=I(null),f=I(null),w=I(e.modelValue),C=I(!1),T=I(!0),V=I(!1),N=I(!1),q=v(()=>l.platform.is.desktop===!0||e.mobileArrows===!0),P=[],E=I(0),Q=I(!1);let U,le,j,z=q.value===!0?Ie:mt;const re=v(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Aa(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),xe=v(()=>{const d=E.value,y=w.value;for(let k=0;k<d;k++)if(P[k].name.value===y)return!0;return!1}),x=v(()=>`q-tabs__content--align-${C.value===!0?"left":N.value===!0?"justify":e.align}`),$=v(()=>`q-tabs row no-wrap items-center q-tabs--${C.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${q.value===!0&&e.outsideArrows===!0?"outside":"inside"}`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),G=v(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+x.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")+(l.platform.is.mobile===!0?" scroll":"")),Z=v(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ge=v(()=>e.vertical!==!0&&l.lang.rtl===!0),Be=v(()=>xa===!1&&ge.value===!0);X(ge,z),X(()=>e.modelValue,d=>{he({name:d,setCurrent:!0,skipEmit:!0})}),X(()=>e.outsideArrows,()=>{Se()}),X(q,d=>{z=d===!0?Ie:mt,Se()});function he({name:d,setCurrent:y,skipEmit:k,fromRoute:A}){w.value!==d&&(k!==!0&&e["onUpdate:modelValue"]!==void 0&&r("update:modelValue",d),(y===!0||e["onUpdate:modelValue"]===void 0)&&(Me(w.value,d),w.value=d))}function Se(){a(()=>{te({width:m.value.offsetWidth,height:m.value.offsetHeight})})}function te(d){if(Z.value===void 0||f.value===null)return;const y=d[Z.value.container],k=Math.min(f.value[Z.value.scroll],Array.prototype.reduce.call(f.value.children,(O,L)=>O+(L[Z.value.content]||0),0)),A=y>0&&k>y;C.value=A,A===!0&&o(z),N.value=y<parseInt(e.breakpoint,10)}function Me(d,y){const k=d!=null&&d!==""?P.find(O=>O.name.value===d):null,A=y!=null&&y!==""?P.find(O=>O.name.value===y):null;if(k&&A){const O=k.tabIndicatorRef.value,L=A.tabIndicatorRef.value;clearTimeout(U),O.style.transition="none",O.style.transform="none",L.style.transition="none",L.style.transform="none";const D=O.getBoundingClientRect(),H=L.getBoundingClientRect();L.style.transform=e.vertical===!0?`translate3d(0,${D.top-H.top}px,0) scale3d(1,${H.height?D.height/H.height:1},1)`:`translate3d(${D.left-H.left}px,0,0) scale3d(${H.width?D.width/H.width:1},1,1)`,c(()=>{U=setTimeout(()=>{L.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",L.style.transform="none"},70)})}A&&C.value===!0&&be(A.rootRef.value)}function be(d){const{left:y,width:k,top:A,height:O}=f.value.getBoundingClientRect(),L=d.getBoundingClientRect();let D=e.vertical===!0?L.top-A:L.left-y;if(D<0){f.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(D),z();return}D+=e.vertical===!0?L.height-O:L.width-k,D>0&&(f.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(D),z())}function Ie(){const d=f.value;if(d!==null){const y=d.getBoundingClientRect(),k=e.vertical===!0?d.scrollTop:Math.abs(d.scrollLeft);ge.value===!0?(T.value=Math.ceil(k+y.width)<d.scrollWidth-1,V.value=k>0):(T.value=k>0,V.value=e.vertical===!0?Math.ceil(k+y.height)<d.scrollHeight:Math.ceil(k+y.width)<d.scrollWidth)}}function Ne(d){Y(),le=setInterval(()=>{Pe(d)===!0&&Y()},5)}function qe(){Ne(Be.value===!0?Number.MAX_SAFE_INTEGER:0)}function we(){Ne(Be.value===!0?0:Number.MAX_SAFE_INTEGER)}function Y(){clearInterval(le)}function De(d,y){const k=Array.prototype.filter.call(f.value.children,H=>H===y||H.matches&&H.matches(".q-tab.q-focusable")===!0),A=k.length;if(A===0)return;if(d===36)return be(k[0]),k[0].focus(),!0;if(d===35)return be(k[A-1]),k[A-1].focus(),!0;const O=d===(e.vertical===!0?38:37),L=d===(e.vertical===!0?40:39),D=O===!0?-1:L===!0?1:void 0;if(D!==void 0){const H=ge.value===!0?-1:1,W=k.indexOf(y)+D*H;return W>=0&&W<A&&(be(k[W]),k[W].focus({preventScroll:!0})),!0}}const Le=v(()=>Be.value===!0?{get:d=>Math.abs(d.scrollLeft),set:(d,y)=>{d.scrollLeft=-y}}:e.vertical===!0?{get:d=>d.scrollTop,set:(d,y)=>{d.scrollTop=y}}:{get:d=>d.scrollLeft,set:(d,y)=>{d.scrollLeft=y}});function Pe(d){const y=f.value,{get:k,set:A}=Le.value;let O=!1,L=k(y);const D=d<L?-1:1;return L+=D*5,L<0?(O=!0,L=0):(D===-1&&L<=d||D===1&&L>=d)&&(O=!0,L=d),A(y,L),z(),O}function Qe(d,y){for(const k in d)if(d[k]!==y[k])return!1;return!0}function _e(){let d=null,y={matchedLen:0,queryDiff:9999,hrefLen:0};const k=P.filter(D=>D.routeData!==void 0&&D.routeData.hasRouterLink.value===!0),{hash:A,query:O}=s.$route,L=Object.keys(O).length;for(const D of k){const H=D.routeData.exact.value===!0;if(D.routeData[H===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:W,query:ie,matched:st,href:Ue}=D.routeData.resolvedLink.value,Te=Object.keys(ie).length;if(H===!0){if(W!==A||Te!==L||Qe(O,ie)===!1)continue;d=D.name.value;break}if(W!==""&&W!==A||Te!==0&&Qe(ie,O)===!1)continue;const se={matchedLen:st.length,queryDiff:L-Te,hrefLen:Ue.length-W.length};if(se.matchedLen>y.matchedLen){d=D.name.value,y=se;continue}else if(se.matchedLen!==y.matchedLen)continue;if(se.queryDiff<y.queryDiff)d=D.name.value,y=se;else if(se.queryDiff!==y.queryDiff)continue;se.hrefLen>y.hrefLen&&(d=D.name.value,y=se)}d===null&&P.some(D=>D.routeData===void 0&&D.name.value===w.value)===!0||he({name:d,setCurrent:!0})}function Ee(d){if(S(),Q.value!==!0&&m.value!==null&&d.target&&typeof d.target.closest=="function"){const y=d.target.closest(".q-tab");y&&m.value.contains(y)===!0&&(Q.value=!0,C.value===!0&&be(y))}}function $e(){b(()=>{Q.value=!1},30)}function ye(){je.avoidRouteWatcher===!1?i(_e):g()}function pe(){if(j===void 0){const d=X(()=>s.$route.fullPath,ye);j=()=>{d(),j=void 0}}}function rt(d){P.push(d),E.value++,Se(),d.routeData===void 0||s.$route===void 0?i(()=>{if(C.value===!0){const y=w.value,k=y!=null&&y!==""?P.find(A=>A.name.value===y):null;k&&be(k.rootRef.value)}}):(pe(),d.routeData.hasRouterLink.value===!0&&ye())}function it(d){P.splice(P.indexOf(d),1),E.value--,Se(),j!==void 0&&d.routeData!==void 0&&(P.every(y=>y.routeData===void 0)===!0&&j(),ye())}const je={currentModel:w,tabProps:re,hasFocus:Q,hasActiveTab:xe,registerTab:rt,unregisterTab:it,verifyRouteModel:ye,updateModel:he,onKbdNavigate:De,avoidRouteWatcher:!1};ta(Mt,je);function He(){clearTimeout(U),Y(),j!==void 0&&j()}let ze;return at(He),Vt(()=>{ze=j!==void 0,He()}),Ft(()=>{ze===!0&&pe(),Se()}),()=>{const d=[u(aa,{onResize:te}),u("div",{ref:f,class:G.value,onScroll:z},ve(t.default))];return q.value===!0&&d.push(u(Ce,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(T.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||l.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:qe,onTouchstartPassive:qe,onMouseupPassive:Y,onMouseleavePassive:Y,onTouchendPassive:Y}),u(Ce,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(V.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||l.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:we,onTouchstartPassive:we,onMouseupPassive:Y,onMouseleavePassive:Y,onTouchendPassive:Y})),u("div",{ref:m,class:$.value,role:"tablist",onFocusin:Ee,onFocusout:$e},d)}}});let Fa=0;const Ma=["click","keydown"],Ia={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Fa++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Na(e,t,r,s){const l=la(Mt,dt);if(l===dt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),dt;const{proxy:a}=fe(),o=I(null),c=I(null),b=I(null),S=v(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),i=v(()=>l.currentModel.value===e.name),g=v(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(i.value===!0?" q-tab--active"+(l.tabProps.value.activeClass?" "+l.tabProps.value.activeClass:"")+(l.tabProps.value.activeColor?` text-${l.tabProps.value.activeColor}`:"")+(l.tabProps.value.activeBgColor?` bg-${l.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&l.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||l.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(s!==void 0?s.linkClass.value:"")),m=v(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(l.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),f=v(()=>e.disable===!0||l.hasFocus.value===!0||i.value===!1&&l.hasActiveTab.value===!0?-1:e.tabindex||0);function w(q,P){if(P!==!0&&o.value!==null&&o.value.focus(),e.disable===!0){s!==void 0&&s.hasRouterLink.value===!0&&Fe(q);return}if(s===void 0){l.updateModel({name:e.name}),r("click",q);return}if(s.hasRouterLink.value===!0){const E=(Q={})=>{let U;const le=Q.to===void 0||sa(Q.to,e.to)===!0?l.avoidRouteWatcher=ua():null;return s.navigateToRouterLink(q,{...Q,returnRouterError:!0}).catch(j=>{U=j}).then(j=>{if(le===l.avoidRouteWatcher&&(l.avoidRouteWatcher=!1,U===void 0&&(j===void 0||j.message.startsWith("Avoided redundant navigation")===!0)&&l.updateModel({name:e.name})),Q.returnRouterError===!0)return U!==void 0?Promise.reject(U):j})};r("click",q,E),q.defaultPrevented!==!0&&E();return}r("click",q)}function C(q){ra(q,[13,32])?w(q,!0):ia(q)!==!0&&q.keyCode>=35&&q.keyCode<=40&&q.altKey!==!0&&q.metaKey!==!0&&l.onKbdNavigate(q.keyCode,a.$el)===!0&&Fe(q),r("keydown",q)}function T(){const q=l.tabProps.value.narrowIndicator,P=[],E=u("div",{ref:b,class:["q-tab__indicator",l.tabProps.value.indicatorClass]});e.icon!==void 0&&P.push(u(Ce,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&P.push(u("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&P.push(e.alertIcon!==void 0?u(Ce,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):u("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),q===!0&&P.push(E);const Q=[u("div",{class:"q-focus-helper",tabindex:-1,ref:o}),u("div",{class:m.value},yt(t.default,P))];return q===!1&&Q.push(E),Q}const V={name:v(()=>e.name),rootRef:c,tabIndicatorRef:b,routeData:s};at(()=>{l.unregisterTab(V)}),lt(()=>{l.registerTab(V)});function N(q,P){const E={ref:c,class:g.value,tabindex:f.value,role:"tab","aria-selected":i.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:w,onKeydown:C,...P};return na(u(q,E,T()),[[oa,S.value]])}return{renderTab:N,$tabs:l}}const Qa=oe({name:"QTab",props:Ia,emits:Ma,setup(e,{slots:t,emit:r}){const{renderTab:s}=Na(e,t,r);return()=>s("div")}});function ja(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((r,s)=>{const l=parseFloat(r);l&&(t[s]=l)}),t}const Ha=ca({name:"touch-swipe",beforeMount(e,{value:t,arg:r,modifiers:s}){if(s.mouse!==!0&&Ae.has.touch!==!0)return;const l=s.mouseCapture===!0?"Capture":"",a={handler:t,sensitivity:ja(r),direction:xt(s),noop:mt,mouseStart(o){Bt(o,a)&&da(o)&&(Ge(a,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(o,!0))},touchStart(o){if(Bt(o,a)){const c=o.target;Ge(a,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","notPassiveCapture"],[c,"touchend","end","notPassiveCapture"]]),a.start(o)}},start(o,c){Ae.is.firefox===!0&&vt(e,!0);const b=qt(o);a.event={x:b.left,y:b.top,time:Date.now(),mouse:c===!0,dir:!1}},move(o){if(a.event===void 0)return;if(a.event.dir!==!1){Fe(o);return}const c=Date.now()-a.event.time;if(c===0)return;const b=qt(o),S=b.left-a.event.x,i=Math.abs(S),g=b.top-a.event.y,m=Math.abs(g);if(a.event.mouse!==!0){if(i<a.sensitivity[1]&&m<a.sensitivity[1]){a.end(o);return}}else if(i<a.sensitivity[2]&&m<a.sensitivity[2])return;const f=i/c,w=m/c;a.direction.vertical===!0&&i<m&&i<100&&w>a.sensitivity[0]&&(a.event.dir=g<0?"up":"down"),a.direction.horizontal===!0&&i>m&&m<100&&f>a.sensitivity[0]&&(a.event.dir=S<0?"left":"right"),a.direction.up===!0&&i<m&&g<0&&i<100&&w>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&i<m&&g>0&&i<100&&w>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&i>m&&S<0&&m<100&&f>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&i>m&&S>0&&m<100&&f>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(Fe(o),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),La(),a.styleCleanup=C=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const T=()=>{document.body.classList.remove("no-pointer-events--children")};C===!0?setTimeout(T,50):T()}),a.handler({evt:o,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:c,distance:{x:i,y:m}})):a.end(o)},end(o){a.event!==void 0&&(ft(a,"temp"),Ae.is.firefox===!0&&vt(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),o!==void 0&&a.event.dir!==!1&&Fe(o),a.event=void 0)}};if(e.__qtouchswipe=a,s.mouse===!0){const o=s.mouseCapture===!0||s.mousecapture===!0?"Capture":"";Ge(a,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}Ae.has.touch===!0&&Ge(a,"main",[[e,"touchstart","touchStart",`passive${s.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const r=e.__qtouchswipe;r!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&r.end(),r.handler=t.value),r.direction=xt(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(ft(t,"main"),ft(t,"temp"),Ae.is.firefox===!0&&vt(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}}),za={name:{required:!0},disable:Boolean},Dt={setup(e,{slots:t}){return()=>u("div",{class:"q-panel scroll",role:"tabpanel"},ve(t.default))}},Ua={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Wa=["update:modelValue","before-transition","transition"];function Ka(){const{props:e,emit:t,proxy:r}=fe(),{getCacheWithFn:s}=Ea();let l,a;const o=I(null),c=I(null);function b(x){const $=e.vertical===!0?"up":"left";U((r.$q.lang.rtl===!0?-1:1)*(x.direction===$?1:-1))}const S=v(()=>[[Ha,b,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),i=v(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),g=v(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),m=v(()=>`--q-transition-duration: ${e.transitionDuration}ms`),f=v(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),w=v(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),C=v(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);X(()=>e.modelValue,(x,$)=>{const G=q(x)===!0?P(x):-1;a!==!0&&Q(G===-1?0:G<P($)?-1:1),o.value!==G&&(o.value=G,t("before-transition",x,$),St(()=>{t("transition",x,$)}))});function T(){U(1)}function V(){U(-1)}function N(x){t("update:modelValue",x)}function q(x){return x!=null&&x!==""}function P(x){return l.findIndex($=>$.props.name===x&&$.props.disable!==""&&$.props.disable!==!0)}function E(){return l.filter(x=>x.props.disable!==""&&x.props.disable!==!0)}function Q(x){const $=x!==0&&e.animated===!0&&o.value!==-1?"q-transition--"+(x===-1?i.value:g.value):null;c.value!==$&&(c.value=$)}function U(x,$=o.value){let G=$+x;for(;G>-1&&G<l.length;){const Z=l[G];if(Z!==void 0&&Z.props.disable!==""&&Z.props.disable!==!0){Q(x),a=!0,t("update:modelValue",Z.props.name),setTimeout(()=>{a=!1});return}G+=x}e.infinite===!0&&l.length>0&&$!==-1&&$!==l.length&&U(x,x===-1?l.length:-1)}function le(){const x=P(e.modelValue);return o.value!==x&&(o.value=x),!0}function j(){const x=q(e.modelValue)===!0&&le()&&l[o.value];return e.keepAlive===!0?[u(ba,w.value,[u(C.value===!0?s(f.value,()=>({...Dt,name:f.value})):Dt,{key:f.value,style:m.value},()=>x)])]:[u("div",{class:"q-panel scroll",style:m.value,key:f.value,role:"tabpanel"},[x])]}function z(){if(l.length!==0)return e.animated===!0?[u(va,{name:c.value},j)]:j()}function re(x){return l=fa(ve(x.default,[])).filter($=>$.props!==null&&$.props.slot===void 0&&q($.props.name)===!0),l.length}function xe(){return l}return Object.assign(r,{next:T,previous:V,goTo:N}),{panelIndex:o,panelDirectives:S,updatePanelsList:re,updatePanelIndex:le,getPanelContent:z,getEnabledPanels:E,getPanels:xe,isValidPanelName:q,keepAliveProps:w,needsUniqueKeepAliveWrapper:C,goToPanelByOffset:U,goToPanel:N,nextPanel:T,previousPanel:V}}const Xa=oe({name:"QTabPanels",props:{...Ua,...nt},emits:Wa,setup(e,{slots:t}){const r=fe(),s=ot(e,r.proxy.$q),{updatePanelsList:l,getPanelContent:a,panelDirectives:o}=Ka(),c=v(()=>"q-tab-panels q-panel-parent"+(s.value===!0?" q-tab-panels--dark q-dark":""));return()=>(l(t),ma("div",{class:c.value},a(),"pan",e.swipeable,()=>o.value))}}),Ga=oe({name:"QTabPanel",props:za,setup(e,{slots:t}){return()=>u("div",{class:"q-tab-panel",role:"tabpanel"},ve(t.default))}}),ht=oe({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:r}){const s=fe(),{proxy:{$q:l}}=s,a=o=>{r("click",o)};return()=>{if(e.props===void 0)return u("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:a},ve(t.default));let o,c;const b=s.vnode.key;if(b){if(o=e.props.colsMap[b],o===void 0)return}else o=e.props.col;if(o.sortable===!0){const i=o.align==="right"?"unshift":"push";c=ga(t.default,[]),c[i](u(Ce,{class:o.__iconClass,name:l.iconSet.table.arrowUp}))}else c=ve(t.default);const S={class:o.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:o.headerStyle,onClick:i=>{o.sortable===!0&&e.props.sort(o),a(i)}};return u("th",S,c)}}}),Lt=oe({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const r=v(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>u("tr",{class:r.value},ve(t.default))}}),Et=oe({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const r=fe(),s=v(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return u("td",{class:s.value},ve(t.default));const l=r.vnode.key,a=(e.props.colsMap!==void 0?e.props.colsMap[l]:null)||e.props.col;if(a===void 0)return;const{row:o}=e.props;return u("td",{class:s.value+a.__tdClass(o),style:a.__tdStyle(o)},ve(t.default))}}}),Ya=["horizontal","vertical","cell","none"],Ja=oe({name:"QMarkupTable",props:{...nt,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Ya.includes(e)}},setup(e,{slots:t}){const r=fe(),s=ot(e,r.proxy.$q),l=v(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(s.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>u("div",{class:l.value},[u("table",{class:"q-table"},ve(t.default))])}});function Ut(e,t){return u("div",e,[u("table",{class:"q-table"},t)])}const Za={list:$a,table:Ja},el=["list","table","__qtable"],tl=oe({name:"QVirtualScroll",props:{...Ba,type:{type:String,default:"list",validator:e=>el.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:r}){let s;const l=I(null),a=v(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:o,localResetVirtualScroll:c,padVirtualScroll:b,onVirtualScrollEvt:S}=Da({virtualScrollLength:a,getVirtualScrollTarget:w,getVirtualScrollEl:f}),i=v(()=>{if(a.value===0)return[];const N=(q,P)=>({index:o.value.from+P,item:q});return e.itemsFn===void 0?e.items.slice(o.value.from,o.value.to).map(N):e.itemsFn(o.value.from,o.value.to-o.value.from).map(N)}),g=v(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),m=v(()=>e.scrollTarget!==void 0?{}:{tabindex:0});X(a,()=>{c()}),X(()=>e.scrollTarget,()=>{T(),C()});function f(){return l.value.$el||l.value}function w(){return s}function C(){s=ha(f(),e.scrollTarget),s.addEventListener("scroll",S,Pt.passive)}function T(){s!==void 0&&(s.removeEventListener("scroll",S,Pt.passive),s=void 0)}function V(){let N=b(e.type==="list"?"div":"tbody",i.value.map(t.default));return t.before!==void 0&&(N=t.before().concat(N)),yt(t.after,N)}return It(()=>{c()}),lt(()=>{C()}),Ft(()=>{C()}),Vt(()=>{T()}),at(()=>{T()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Ut({ref:l,class:"q-table__middle "+g.value},V()):u(Za[e.type],{...r,ref:l,class:[r.class,g.value],...m.value},V)}}}),al={xs:2,sm:4,md:6,lg:10,xl:14};function $t(e,t,r){return{transform:t===!0?`translateX(${r.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const ll=oe({name:"QLinearProgress",props:{...nt,...ya,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:r}=fe(),s=ot(e,r.$q),l=Sa(e,al),a=v(()=>e.indeterminate===!0||e.query===!0),o=v(()=>e.reverse!==e.query),c=v(()=>({...l.value!==null?l.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),b=v(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),S=v(()=>$t(e.buffer!==void 0?e.buffer:1,o.value,r.$q)),i=v(()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__track--${s.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),g=v(()=>$t(a.value===!0?1:e.value,o.value,r.$q)),m=v(()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${e.instantFeedback===!0?"out":""}-transition q-linear-progress__model--${a.value===!0?"in":""}determinate`),f=v(()=>({width:`${e.value*100}%`})),w=v(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"}`);return()=>{const C=[u("div",{class:i.value,style:S.value}),u("div",{class:m.value,style:g.value})];return e.stripe===!0&&a.value===!1&&C.push(u("div",{class:w.value,style:f.value})),u("div",{class:b.value,style:c.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},yt(t.default,C))}}});let Ve=0;const nl={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ol=["update:fullscreen","fullscreen"];function rl(){const e=fe(),{props:t,emit:r,proxy:s}=e;let l,a,o;const c=I(!1);wa(e)===!0&&X(()=>s.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&i()}),X(()=>t.fullscreen,g=>{c.value!==g&&b()}),X(c,g=>{r("update:fullscreen",g),r("fullscreen",g)});function b(){c.value===!0?i():S()}function S(){c.value!==!0&&(c.value=!0,o=s.$el.parentNode,o.replaceChild(a,s.$el),document.body.appendChild(s.$el),Ve++,Ve===1&&document.body.classList.add("q-body--fullscreen-mixin"),l={handler:i},_t.add(l))}function i(){c.value===!0&&(l!==void 0&&(_t.remove(l),l=void 0),o.replaceChild(s.$el,a),c.value=!1,Ve=Math.max(0,Ve-1),Ve===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),s.$el.scrollIntoView!==void 0&&setTimeout(()=>{s.$el.scrollIntoView()})))}return It(()=>{a=document.createElement("span")}),lt(()=>{t.fullscreen===!0&&S()}),at(i),Object.assign(s,{toggleFullscreen:b,setFullscreen:S,exitFullscreen:i}),{inFullscreen:c,toggleFullscreen:b}}function il(e,t){return new Date(e)-new Date(t)}const sl={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function ul(e,t,r,s){const l=v(()=>{const{sortBy:c}=t.value;return c&&r.value.find(b=>b.name===c)||null}),a=v(()=>e.sortMethod!==void 0?e.sortMethod:(c,b,S)=>{const i=r.value.find(f=>f.name===b);if(i===void 0||i.field===void 0)return c;const g=S===!0?-1:1,m=typeof i.field=="function"?f=>i.field(f):f=>f[i.field];return c.sort((f,w)=>{let C=m(f),T=m(w);return C==null?-1*g:T==null?1*g:i.sort!==void 0?i.sort(C,T,f,w)*g:gt(C)===!0&&gt(T)===!0?(C-T)*g:pt(C)===!0&&pt(T)===!0?il(C,T)*g:typeof C=="boolean"&&typeof T=="boolean"?(C-T)*g:([C,T]=[C,T].map(V=>(V+"").toLocaleString().toLowerCase()),C<T?-1*g:C===T?0:g)})});function o(c){let b=e.columnSortOrder;if(Ca(c)===!0)c.sortOrder&&(b=c.sortOrder),c=c.name;else{const g=r.value.find(m=>m.name===c);g!==void 0&&g.sortOrder&&(b=g.sortOrder)}let{sortBy:S,descending:i}=t.value;S!==c?(S=c,i=b==="da"):e.binaryStateSort===!0?i=!i:i===!0?b==="ad"?S=null:i=!1:b==="ad"?i=!0:S=null,s({sortBy:S,descending:i,page:1})}return{columnToSort:l,computedSortMethod:a,sort:o}}const cl={filter:[String,Object],filterMethod:Function};function dl(e,t){const r=v(()=>e.filterMethod!==void 0?e.filterMethod:(s,l,a,o)=>{const c=l?l.toLowerCase():"";return s.filter(b=>a.some(S=>{const i=o(S,b)+"";return(i==="undefined"||i==="null"?"":i.toLowerCase()).indexOf(c)!==-1}))});return X(()=>e.filter,()=>{St(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:r}}function vl(e,t){for(const r in t)if(t[r]!==e[r])return!1;return!0}function At(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const fl={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function bl(e,t){const{props:r,emit:s}=e,l=I(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:r.rowsPerPageOptions.length>0?r.rowsPerPageOptions[0]:5},r.pagination)),a=v(()=>{const i=r["onUpdate:pagination"]!==void 0?{...l.value,...r.pagination}:l.value;return At(i)}),o=v(()=>a.value.rowsNumber!==void 0);function c(i){b({pagination:i,filter:r.filter})}function b(i={}){St(()=>{s("request",{pagination:i.pagination||a.value,filter:i.filter||r.filter,getCellValue:t})})}function S(i,g){const m=At({...a.value,...i});if(vl(a.value,m)===!0){o.value===!0&&g===!0&&c(m);return}if(o.value===!0){c(m);return}r.pagination!==void 0&&r["onUpdate:pagination"]!==void 0?s("update:pagination",m):l.value=m}return{innerPagination:l,computedPagination:a,isServerSide:o,requestServerInteraction:b,setPagination:S}}function ml(e,t,r,s,l,a){const{props:o,emit:c,proxy:{$q:b}}=e,S=v(()=>s.value===!0?r.value.rowsNumber||0:a.value),i=v(()=>{const{page:P,rowsPerPage:E}=r.value;return(P-1)*E}),g=v(()=>{const{page:P,rowsPerPage:E}=r.value;return P*E}),m=v(()=>r.value.page===1),f=v(()=>r.value.rowsPerPage===0?1:Math.max(1,Math.ceil(S.value/r.value.rowsPerPage))),w=v(()=>g.value===0?!0:r.value.page>=f.value),C=v(()=>(o.rowsPerPageOptions.includes(t.value.rowsPerPage)?o.rowsPerPageOptions:[t.value.rowsPerPage].concat(o.rowsPerPageOptions)).map(E=>({label:E===0?b.lang.table.allRows:""+E,value:E})));X(f,(P,E)=>{if(P===E)return;const Q=r.value.page;P&&!Q?l({page:1}):P<Q&&l({page:P})});function T(){l({page:1})}function V(){const{page:P}=r.value;P>1&&l({page:P-1})}function N(){const{page:P,rowsPerPage:E}=r.value;g.value>0&&P*E<S.value&&l({page:P+1})}function q(){l({page:f.value})}return o["onUpdate:pagination"]!==void 0&&c("update:pagination",{...r.value}),{firstRowIndex:i,lastRowIndex:g,isFirstPage:m,isLastPage:w,pagesNumber:f,computedRowsPerPageOptions:C,computedRowsNumber:S,firstPage:T,prevPage:V,nextPage:N,lastPage:q}}const gl={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},hl=["update:selected","selection"];function yl(e,t,r,s){const l=v(()=>{const w={};return e.selected.map(s.value).forEach(C=>{w[C]=!0}),w}),a=v(()=>e.selection!=="none"),o=v(()=>e.selection==="single"),c=v(()=>e.selection==="multiple"),b=v(()=>r.value.length>0&&r.value.every(w=>l.value[s.value(w)]===!0)),S=v(()=>b.value!==!0&&r.value.some(w=>l.value[s.value(w)]===!0)),i=v(()=>e.selected.length);function g(w){return l.value[w]===!0}function m(){t("update:selected",[])}function f(w,C,T,V){t("selection",{rows:C,added:T,keys:w,evt:V});const N=o.value===!0?T===!0?C:[]:T===!0?e.selected.concat(C):e.selected.filter(q=>w.includes(s.value(q))===!1);t("update:selected",N)}return{hasSelectionMode:a,singleSelection:o,multipleSelection:c,allRowsSelected:b,someRowsSelected:S,rowsSelectedNumber:i,isRowSelected:g,clearSelection:m,updateSelection:f}}function Ot(e){return Array.isArray(e)?e.slice():[]}const Sl={expanded:Array},wl=["update:expanded"];function Cl(e,t){const r=I(Ot(e.expanded));X(()=>e.expanded,o=>{r.value=Ot(o)});function s(o){return r.value.includes(o)}function l(o){e.expanded!==void 0?t("update:expanded",o):r.value=o}function a(o,c){const b=r.value.slice(),S=b.indexOf(o);c===!0?S===-1&&(b.push(o),l(b)):S!==-1&&(b.splice(S,1),l(b))}return{isRowExpanded:s,setExpanded:l,updateExpanded:a}}const ql={visibleColumns:Array};function Pl(e,t,r){const s=v(()=>{if(e.columns!==void 0)return e.columns;const c=e.rows[0];return c!==void 0?Object.keys(c).map(b=>({name:b,label:b.toUpperCase(),field:b,align:gt(c[b])?"right":"left",sortable:!0})):[]}),l=v(()=>{const{sortBy:c,descending:b}=t.value;return(e.visibleColumns!==void 0?s.value.filter(i=>i.required===!0||e.visibleColumns.includes(i.name)===!0):s.value).map(i=>{const g=i.align||"right",m=`text-${g}`;return{...i,align:g,__iconClass:`q-table__sort-icon q-table__sort-icon--${g}`,__thClass:m+(i.headerClasses!==void 0?" "+i.headerClasses:"")+(i.sortable===!0?" sortable":"")+(i.name===c?` sorted ${b===!0?"sort-desc":""}`:""),__tdStyle:i.style!==void 0?typeof i.style!="function"?()=>i.style:i.style:()=>null,__tdClass:i.classes!==void 0?typeof i.classes!="function"?()=>m+" "+i.classes:f=>m+" "+i.classes(f):()=>m}})}),a=v(()=>{const c={};return l.value.forEach(b=>{c[b.name]=b}),c}),o=v(()=>e.tableColspan!==void 0?e.tableColspan:l.value.length+(r.value===!0?1:0));return{colList:s,computedCols:l,computedColsMap:a,computedColspan:o}}const Je="q-table__bottom row items-center",Wt={};Ht.forEach(e=>{Wt[e]={}});const _l=oe({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Wt,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...nt,...nl,...ql,...cl,...fl,...Sl,...gl,...sl},emits:["request","virtual-scroll",...ol,...wl,...hl],setup(e,{slots:t,emit:r}){const s=fe(),{proxy:{$q:l}}=s,a=ot(e,l),{inFullscreen:o,toggleFullscreen:c}=rl(),b=v(()=>typeof e.rowKey=="function"?e.rowKey:n=>n[e.rowKey]),S=I(null),i=I(null),g=v(()=>e.grid!==!0&&e.virtualScroll===!0),m=v(()=>" q-table__card"+(a.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),f=v(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":m.value)+(a.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(o.value===!0?" fullscreen scroll":"")),w=v(()=>f.value+(e.loading===!0?" q-table--loading":""));X(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+f.value,()=>{g.value===!0&&i.value!==null&&i.value.reset()});const{innerPagination:C,computedPagination:T,isServerSide:V,requestServerInteraction:N,setPagination:q}=bl(s,W),{computedFilterMethod:P}=dl(e,q),{isRowExpanded:E,setExpanded:Q,updateExpanded:U}=Cl(e,r),le=v(()=>{let n=e.rows;if(V.value===!0||n.length===0)return n;const{sortBy:h,descending:_}=T.value;return e.filter&&(n=P.value(n,e.filter,te.value,W)),Ie.value!==null&&(n=Ne.value(e.rows===n?n.slice():n,h,_)),n}),j=v(()=>le.value.length),z=v(()=>{let n=le.value;if(V.value===!0)return n;const{rowsPerPage:h}=T.value;return h!==0&&(we.value===0&&e.rows!==n?n.length>Y.value&&(n=n.slice(0,Y.value)):n=n.slice(we.value,Y.value)),n}),{hasSelectionMode:re,singleSelection:xe,multipleSelection:x,allRowsSelected:$,someRowsSelected:G,rowsSelectedNumber:Z,isRowSelected:ge,clearSelection:Be,updateSelection:he}=yl(e,r,z,b),{colList:Se,computedCols:te,computedColsMap:Me,computedColspan:be}=Pl(e,T,re),{columnToSort:Ie,computedSortMethod:Ne,sort:qe}=ul(e,T,Se,q),{firstRowIndex:we,lastRowIndex:Y,isFirstPage:De,isLastPage:Le,pagesNumber:Pe,computedRowsPerPageOptions:Qe,computedRowsNumber:_e,firstPage:Ee,prevPage:$e,nextPage:ye,lastPage:pe}=ml(s,C,T,V,q,j),rt=v(()=>z.value.length===0),it=v(()=>{const n={};return Ht.forEach(h=>{n[h]=e[h]}),n.virtualScrollItemSize===void 0&&(n.virtualScrollItemSize=e.dense===!0?28:48),n});function je(){g.value===!0&&i.value.reset()}function He(){if(e.grid===!0)return Jt();const n=e.hideHeader!==!0?Te:null;if(g.value===!0){const _=t["top-row"],R=t["bottom-row"],B={default:M=>k(M.item,t.body,M.index)};if(_!==void 0){const M=u("tbody",_({cols:te.value}));B.before=n===null?()=>M:()=>[n()].concat(M)}else n!==null&&(B.before=n);return R!==void 0&&(B.after=()=>u("tbody",R({cols:te.value}))),u(tl,{ref:i,class:e.tableClass,style:e.tableStyle,...it.value,scrollTarget:e.virtualScrollTarget,items:z.value,type:"__qtable",tableColspan:be.value,onVirtualScroll:d},B)}const h=[A()];return n!==null&&h.unshift(n()),Ut({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},h)}function ze(n,h){if(i.value!==null){i.value.scrollTo(n,h);return}n=parseInt(n,10);const _=S.value.querySelector(`tbody tr:nth-of-type(${n+1})`);if(_!==null){const R=S.value.querySelector(".q-table__middle.scroll"),B=_.offsetTop-e.virtualScrollStickySizeStart,M=B<R.scrollTop?"decrease":"increase";R.scrollTop=B,r("virtual-scroll",{index:n,from:0,to:C.value.rowsPerPage-1,direction:M})}}function d(n){r("virtual-scroll",n)}function y(){return[u(ll,{class:"q-table__linear-progress",color:e.color,dark:a.value,indeterminate:!0,trackColor:"transparent"})]}function k(n,h,_){const R=b.value(n),B=ge(R);if(h!==void 0)return h(O({key:R,row:n,pageIndex:_,__trClass:B?"selected":""}));const M=t["body-cell"],F=te.value.map(J=>{const Ke=t[`body-cell-${J.name}`],Xe=Ke!==void 0?Ke:M;return Xe!==void 0?Xe(L({key:R,row:n,pageIndex:_,col:J})):u("td",{class:J.__tdClass(n),style:J.__tdStyle(n)},W(J,n))});if(re.value===!0){const J=t["body-selection"],Ke=J!==void 0?J(D({key:R,row:n,pageIndex:_})):[u(bt,{modelValue:B,color:e.color,dark:a.value,dense:e.dense,"onUpdate:modelValue":(Xe,Zt)=>{he([R],[n],Xe,Zt)}})];F.unshift(u("td",{class:"q-table--col-auto-width"},Ke))}const me={key:R,class:{selected:B}};return e.onRowClick!==void 0&&(me.class["cursor-pointer"]=!0,me.onClick=J=>{r("RowClick",J,n,_)}),e.onRowDblclick!==void 0&&(me.class["cursor-pointer"]=!0,me.onDblclick=J=>{r("RowDblclick",J,n,_)}),e.onRowContextmenu!==void 0&&(me.class["cursor-pointer"]=!0,me.onContextmenu=J=>{r("RowContextmenu",J,n,_)}),u("tr",me,F)}function A(){const n=t.body,h=t["top-row"],_=t["bottom-row"];let R=z.value.map((B,M)=>k(B,n,M));return h!==void 0&&(R=h({cols:te.value}).concat(R)),_!==void 0&&(R=R.concat(_({cols:te.value}))),u("tbody",R)}function O(n){return H(n),n.cols=n.cols.map(h=>Oe({...h},"value",()=>W(h,n.row))),n}function L(n){return H(n),Oe(n,"value",()=>W(n.col,n.row)),n}function D(n){return H(n),n}function H(n){Object.assign(n,{cols:te.value,colsMap:Me.value,sort:qe,rowIndex:we.value+n.pageIndex,color:e.color,dark:a.value,dense:e.dense}),re.value===!0&&Oe(n,"selected",()=>ge(n.key),(h,_)=>{he([n.key],[n.row],h,_)}),Oe(n,"expand",()=>E(n.key),h=>{U(n.key,h)})}function W(n,h){const _=typeof n.field=="function"?n.field(h):h[n.field];return n.format!==void 0?n.format(_,h):_}const ie=v(()=>({pagination:T.value,pagesNumber:Pe.value,isFirstPage:De.value,isLastPage:Le.value,firstPage:Ee,prevPage:$e,nextPage:ye,lastPage:pe,inFullscreen:o.value,toggleFullscreen:c}));function st(){const n=t.top,h=t["top-left"],_=t["top-right"],R=t["top-selection"],B=re.value===!0&&R!==void 0&&Z.value>0,M="q-table__top relative-position row items-center";if(n!==void 0)return u("div",{class:M},[n(ie.value)]);let F;if(B===!0?F=R(ie.value).slice():(F=[],h!==void 0?F.push(u("div",{class:"q-table-control"},[h(ie.value)])):e.title&&F.push(u("div",{class:"q-table__control"},[u("div",{class:["q-table__title",e.titleClass]},e.title)]))),_!==void 0&&(F.push(u("div",{class:"q-table__separator col"})),F.push(u("div",{class:"q-table__control"},[_(ie.value)]))),F.length!==0)return u("div",{class:M},F)}const Ue=v(()=>G.value===!0?null:$.value);function Te(){const n=se();return e.loading===!0&&t.loading===void 0&&n.push(u("tr",{class:"q-table__progress"},[u("th",{class:"relative-position",colspan:be.value},y())])),u("thead",n)}function se(){const n=t.header,h=t["header-cell"];if(n!==void 0)return n(ut({header:!0})).slice();const _=te.value.map(R=>{const B=t[`header-cell-${R.name}`],M=B!==void 0?B:h,F=ut({col:R});return M!==void 0?M(F):u(ht,{key:R.name,props:F},()=>R.label)});if(xe.value===!0&&e.grid!==!0)_.unshift(u("th",{class:"q-table--col-auto-width"}," "));else if(x.value===!0){const R=t["header-selection"],B=R!==void 0?R(ut({})):[u(bt,{color:e.color,modelValue:Ue.value,dark:a.value,dense:e.dense,"onUpdate:modelValue":wt})];_.unshift(u("th",{class:"q-table--col-auto-width"},B))}return[u("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},_)]}function ut(n){return Object.assign(n,{cols:te.value,sort:qe,colsMap:Me.value,color:e.color,dark:a.value,dense:e.dense}),x.value===!0&&Oe(n,"selected",()=>Ue.value,wt),n}function wt(n){G.value===!0&&(n=!1),he(z.value.map(b.value),z.value,n)}const We=v(()=>{const n=[e.iconFirstPage||l.iconSet.table.firstPage,e.iconPrevPage||l.iconSet.table.prevPage,e.iconNextPage||l.iconSet.table.nextPage,e.iconLastPage||l.iconSet.table.lastPage];return l.lang.rtl===!0?n.reverse():n});function Kt(){if(e.hideBottom===!0)return;if(rt.value===!0){if(e.hideNoData===!0)return;const _=e.loading===!0?e.loadingLabel||l.lang.table.loading:e.filter?e.noResultsLabel||l.lang.table.noResults:e.noDataLabel||l.lang.table.noData,R=t["no-data"],B=R!==void 0?[R({message:_,icon:l.iconSet.table.warning,filter:e.filter})]:[u(Ce,{class:"q-table__bottom-nodata-icon",name:l.iconSet.table.warning}),_];return u("div",{class:Je+" q-table__bottom--nodata"},B)}const n=t.bottom;if(n!==void 0)return u("div",{class:Je},[n(ie.value)]);const h=e.hideSelectedBanner!==!0&&re.value===!0&&Z.value>0?[u("div",{class:"q-table__control"},[u("div",[(e.selectedRowsLabel||l.lang.table.selectedRecords)(Z.value)])])]:[];if(e.hidePagination!==!0)return u("div",{class:Je+" justify-end"},Gt(h));if(h.length>0)return u("div",{class:Je},h)}function Xt(n){q({page:1,rowsPerPage:n.value})}function Gt(n){let h;const{rowsPerPage:_}=T.value,R=e.paginationLabel||l.lang.table.pagination,B=t.pagination,M=e.rowsPerPageOptions.length>1;if(n.push(u("div",{class:"q-table__separator col"})),M===!0&&n.push(u("div",{class:"q-table__control"},[u("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||l.lang.table.recordsPerPage]),u(zt,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:_,options:Qe.value,displayValue:_===0?l.lang.table.allRows:_,dark:a.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Xt})])),B!==void 0)h=B(ie.value);else if(h=[u("span",_!==0?{class:"q-table__bottom-item"}:{},[_?R(we.value+1,Math.min(Y.value,_e.value),_e.value):R(1,j.value,_e.value)])],_!==0&&Pe.value>1){const F={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(F.size="sm"),Pe.value>2&&h.push(u(de,{key:"pgFirst",...F,icon:We.value[0],disable:De.value,onClick:Ee})),h.push(u(de,{key:"pgPrev",...F,icon:We.value[1],disable:De.value,onClick:$e}),u(de,{key:"pgNext",...F,icon:We.value[2],disable:Le.value,onClick:ye})),Pe.value>2&&h.push(u(de,{key:"pgLast",...F,icon:We.value[3],disable:Le.value,onClick:pe}))}return n.push(u("div",{class:"q-table__control"},h)),n}function Yt(){const n=e.gridHeader===!0?[u("table",{class:"q-table"},[Te()])]:e.loading===!0&&t.loading===void 0?y():void 0;return u("div",{class:"q-table__middle"},n)}function Jt(){const n=t.item!==void 0?t.item:h=>{const _=h.cols.map(B=>u("div",{class:"q-table__grid-item-row"},[u("div",{class:"q-table__grid-item-title"},[B.label]),u("div",{class:"q-table__grid-item-value"},[B.value])]));if(re.value===!0){const B=t["body-selection"],M=B!==void 0?B(h):[u(bt,{modelValue:h.selected,color:e.color,dark:a.value,dense:e.dense,"onUpdate:modelValue":(F,me)=>{he([h.key],[h.row],F,me)}})];_.unshift(u("div",{class:"q-table__grid-item-row"},M),u(Nt,{dark:a.value}))}const R={class:["q-table__grid-item-card"+m.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(R.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(R.onClick=B=>{r("RowClick",B,h.row,h.pageIndex)}),e.onRowDblclick!==void 0&&(R.onDblclick=B=>{r("RowDblclick",B,h.row,h.pageIndex)})),u("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(h.selected===!0?" q-table__grid-item--selected":"")},[u("div",R,_)])};return u("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},z.value.map((h,_)=>n(O({key:b.value(h),row:h,pageIndex:_}))))}return Object.assign(s.proxy,{requestServerInteraction:N,setPagination:q,firstPage:Ee,prevPage:$e,nextPage:ye,lastPage:pe,isRowSelected:ge,clearSelection:Be,isRowExpanded:E,setExpanded:Q,sort:qe,resetVirtualScroll:je,scrollTo:ze,getCellValue:W}),qa(s.proxy,{filteredSortedRows:()=>le.value,computedRows:()=>z.value,computedRowsNumber:()=>_e.value}),()=>{const n=[st()],h={ref:S,class:w.value};return e.grid===!0?n.push(Yt()):Object.assign(h,{class:[h.class,e.cardClass],style:e.cardStyle}),n.push(He(),Kt()),e.loading===!0&&t.loading!==void 0&&n.push(t.loading()),u("div",h,n)}}}),pl=Qt({__name:"DataTable",props:{table:null},setup(e){const t=e,{log:r}=Pa(),{confirmDialog:s}=_a(),l=pa(),a=jt(),o=I("");lt(async()=>{try{const g=ue.getColumns(t.table);a.columns=g,a.columnOptions=g.filter(m=>!m.required),a.visibleColumns=ue.getVisibleColumns(t.table),await c()}catch(g){r.error("DataTable:onMounted",g)}});async function c(){a.rows=await Ye.getAll(t.table)}async function b(g,m){try{const f=await Ye.getFirstByField(t.table,Ra.ID,m);l.openDialog(t.table,g,f)}catch(f){r.error("DataTable:onDialogWithSelectedItem",f)}}async function S(){s("Clear",`Permanently delete all ${ue.getLabelPlural(t.table)}?`,Re.DELETE,Rt.ERROR,async()=>{try{await Ye.clear(t.table),await c()}catch(g){r.error("DataTable:onClear",g)}})}async function i(g){s("Delete",`Permanently delete "${g}" from ${ue.getLabelPlural(t.table)}?`,Re.DELETE,Rt.ERROR,async()=>{try{await Ye.deleteById(t.table,g),await c()}catch(m){r.error("DataTable:onDelete",m)}})}return(g,m)=>(K(),ae(_l,{rows:p(a).rows,columns:p(a).columns,"rows-per-page-options":[0],"virtual-scroll":"",style:{height:"80vh"},"row-key":"id","visible-columns":p(a).visibleColumns,filter:o.value},{top:ee(()=>[ne(p(zt),{modelValue:p(a).visibleColumns,"onUpdate:modelValue":m[0]||(m[0]=f=>p(a).visibleColumns=f),disable:!p(a).rows.length,multiple:"",outlined:"",dense:"","options-dense":"","display-value":"Visible Columns","emit-value":"","map-options":"",options:p(a).columnOptions,"option-value":"name",style:{"min-width":"140px"},class:"q-mr-sm q-mb-sm"},null,8,["modelValue","disable","options"]),Ta("div",null,[p(ue).getOperations(e.table).includes(p(ce).CREATE)?(K(),ae(de,{key:0,color:"positive",label:"Create",class:"q-mr-sm q-mb-sm",onClick:m[1]||(m[1]=f=>p(l).openDialog(e.table,p(ce).CREATE))})):ke("",!0),p(ue).getOperations(e.table).includes(p(ce).CLEAR)?(K(),ae(de,{key:1,disable:!p(a).rows.length,color:"negative",label:"Clear",onClick:m[2]||(m[2]=f=>S()),class:"q-mb-sm"},null,8,["disable"])):ke("",!0)]),ne(p(ka),{disable:!p(a).rows.length,outlined:"",dense:"",clearable:"",debounce:"300",modelValue:o.value,"onUpdate:modelValue":m[3]||(m[3]=f=>o.value=f),placeholder:"Search",class:"full-width q-mr-sm q-mb-sm"},{append:ee(()=>[ne(p(Ce),{name:"search"})]),_:1},8,["disable","modelValue"])]),header:ee(f=>[ne(Lt,{props:f},{default:ee(()=>[(K(!0),Ze(et,null,tt(f.cols,w=>(K(),ae(ht,{key:w.name,props:f},{default:ee(()=>[Tt(kt(w.label),1)]),_:2},1032,["props"]))),128)),ne(ht,{"auto-width":""})]),_:2},1032,["props"])]),body:ee(f=>[ne(Lt,{props:f},{default:ee(()=>[(K(!0),Ze(et,null,tt(f.cols,w=>(K(),ae(Et,{key:w.name,props:f},{default:ee(()=>[Tt(kt(w.value),1)]),_:2},1032,["props"]))),128)),ne(Et,{"auto-width":""},{default:ee(()=>[p(ue).getOperations(e.table).includes(p(ce).REPORT)?(K(),ae(de,{key:0,flat:"",round:"",dense:"",class:"q-ml-xs",color:"accent",onClick:w=>b(p(ce).REPORT,f.cols[0].value),icon:p(Re).REPORT},null,8,["onClick","icon"])):ke("",!0),p(ue).getOperations(e.table).includes(p(ce).INSPECT)?(K(),ae(de,{key:1,flat:"",round:"",dense:"",class:"q-ml-xs",color:"primary",onClick:w=>b(p(ce).INSPECT,f.cols[0].value),icon:p(Re).DETAILS},null,8,["onClick","icon"])):ke("",!0),p(ue).getOperations(e.table).includes(p(ce).UPDATE)?(K(),ae(de,{key:2,flat:"",round:"",dense:"",class:"q-ml-xs",color:"orange-9",onClick:w=>b(p(ce).UPDATE,f.cols[0].value),icon:p(Re).EDIT},null,8,["onClick","icon"])):ke("",!0),p(ue).getOperations(e.table).includes(p(ce).DELETE)?(K(),ae(de,{key:3,flat:"",round:"",dense:"",class:"q-ml-xs",color:"negative",onClick:w=>i(f.cols[0].value),icon:p(Re).DELETE},null,8,["onClick","icon"])):ke("",!0)]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","visible-columns","filter"]))}}),Vl=Qt({__name:"DataTabs",setup(e){const t=jt();return(r,s)=>(K(),ae(ea,null,{default:ee(()=>[ne(p(Va),{modelValue:p(t).selectedTab,"onUpdate:modelValue":s[0]||(s[0]=l=>p(t).selectedTab=l),align:"justify","active-color":"primary","indicator-color":"primary","inline-label":""},{default:ee(()=>[(K(!0),Ze(et,null,tt(p(t).tabs,(l,a)=>(K(),ae(p(Qa),{key:a,name:l.name,icon:l.icon,label:l.name},null,8,["name","icon","label"]))),128))]),_:1},8,["modelValue"]),ne(p(Nt)),ne(p(Xa),{modelValue:p(t).selectedTab,"onUpdate:modelValue":s[1]||(s[1]=l=>p(t).selectedTab=l),animated:""},{default:ee(()=>[(K(!0),Ze(et,null,tt(p(t).tabs,(l,a)=>(K(),ae(p(Ga),{key:a,name:l.name,class:"q-pa-none"},{default:ee(()=>[ne(pl,{table:l.table},null,8,["table"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1}))}});export{Vl as default};
