import{Q as m}from"./QSelect.ad568e50.js";import{d as p,h as u,x as I,r as i,m as x,D as R,l as f,o as v,c as y,u as a}from"./index.04684acb.js";import{d as g}from"./validators.13905387.js";import"./QChip.82e66fa8.js";import"./QItemSection.52d30a96.js";import"./QMenu.1ac4d333.js";import"./selection.3099b744.js";import"./format.3e32b8d9.js";const V=p({__name:"ExerciseRecordIdsSelect",setup(E){const{log:c}=u(),e=I(),s=i(null),l=i([]);x(async()=>{var t,o;try{const r=await R.getAll(f.EXERCISE_RECORDS);l.value=r.map(d=>({value:d.id,label:d.id})),((t=e.selectedItem)==null?void 0:t.exerciseRecordIds)&&((o=e.selectedItem)==null?void 0:o.exerciseRecordIds.length)>0?(e.temporaryItem.exerciseRecordIds=[...e.selectedItem.exerciseRecordIds],e.validateItem.exerciseRecordIds=!0):e.validateItem.exerciseRecordIds=!1}catch(r){c.error("ExerciseIdsSelect:onMounted",r)}});function n(){var t;e.validateItem.exerciseRecordIds=!!((t=s==null?void 0:s.value)!=null&&t.validate())}return(t,o)=>(v(),y(a(m),{modelValue:a(e).temporaryItem.exerciseRecordIds,"onUpdate:modelValue":o[0]||(o[0]=r=>a(e).temporaryItem.exerciseRecordIds=r),ref_key:"inputRef",ref:s,label:"Exercise Record Ids",options:l.value,multiple:"",rules:[r=>a(g)(r)||"* Required"],"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",class:"q-mb-xs",onBlur:o[1]||(o[1]=r=>n())},null,8,["modelValue","options","rules"]))}});export{V as default};
