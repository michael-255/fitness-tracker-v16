import{d as _,o as x,c as y,w as O,a as g,u,b as se,I as L,e as be,Q as G,_ as le,$ as oe,M as D,D as w,l as W,a0 as H,n as he,p as m,V as J,a1 as Y,C as Te,h as V,N as E,f as A,i as q,r as Q,T as de,a2 as De,a3 as ue,a4 as ve,P as M,G as _e,a5 as xe,a6 as ye,a7 as ke,a8 as Se,a9 as Re,aa as Ie,ab as Ce,ac as ie,ad as Ze,ae as fe,af as we,g as We,ag as te}from"./index.9af118fa.js";import{Q as Fe}from"./QPage.746e522e.js";import{Q as Ee}from"./QChip.3db16647.js";import{h as Oe}from"./format.3e32b8d9.js";const Le=_({__name:"SettingsHeader",setup(e){return(t,s)=>(x(),y(u(G),{class:"bg-primary text-white q-py-sm text-h5"},{default:O(()=>[g(u(se),{class:"q-pb-xs q-pr-sm",name:u(L).SETTINGS},null,8,["name"]),be(" Settings ")]),_:1}))}}),Ne=_({__name:"SettingToggles",setup(e){const t=le(),s=oe(),f=D({get(){return s.darkMode},async set(r){await w.updateById(W.SETTINGS,H.DARK_MODE,{settingValue:r}),s.darkMode=!!r,t.dark.set(r)}}),a=D({get(){return s.showConsoleLogs},async set(r){await w.updateById(W.SETTINGS,H.SHOW_CONSOLE_LOGS,{settingValue:r}),s.showConsoleLogs=!!r}}),c=D({get(){return s.showDebugMessages},async set(r){await w.updateById(W.SETTINGS,H.SHOW_DEBUG_MESSAGES,{settingValue:r}),s.showDebugMessages=!!r}}),l=D({get(){return s.saveInfoMessages},async set(r){await w.updateById(W.SETTINGS,H.SAVE_INFO_MESSAGES,{settingValue:r}),s.saveInfoMessages=!!r}});return(r,o)=>(x(),he(Te,null,[m("div",null,[g(u(Y),{modelValue:u(f),"onUpdate:modelValue":o[0]||(o[0]=i=>J(f)?f.value=i:null),label:"Dark Mode"},null,8,["modelValue"])]),m("div",null,[g(u(Y),{modelValue:u(a),"onUpdate:modelValue":o[1]||(o[1]=i=>J(a)?a.value=i:null),label:"Show Console Logs"},null,8,["modelValue"])]),m("div",null,[g(u(Y),{modelValue:u(c),"onUpdate:modelValue":o[2]||(o[2]=i=>J(c)?c.value=i:null),label:"Show Debug Messages"},null,8,["modelValue"])]),m("div",null,[g(u(Y),{modelValue:u(l),"onUpdate:modelValue":o[3]||(o[3]=i=>J(l)?l.value=i:null),label:"Save Info Messages"},null,8,["modelValue"])])],64))}}),$e=_({__name:"TestLogsBtn",setup(e){const{log:t}=V();function s(){t.debug("This is a Debug Log (not saved)",{name:"generateTestLogs:Debug",message:"Debug message",stack:"Stack trace"}),t.info("This is an Info Log",{name:"generateTestLogs:Info",message:"Info message",stack:"Stack trace"}),t.warn("This is a Warning Log",{name:"generateTestLogs:Warning",message:"Warning message",stack:"Stack trace"}),t.error("This is an Error Log",{name:"generateTestLogs:Error",message:"Error message",stack:"Stack trace"}),t.critical("This is a Critical Log",{name:"generateTestLogs:Critical",message:"Critical message",stack:"Stack trace"})}return(f,a)=>(x(),y(u(A),{label:"Test Logs",color:u(E).INFO,onClick:a[0]||(a[0]=c=>s())},null,8,["color"]))}}),Be=m("div",{class:"text-h6 q-mb-sm"},"Options",-1),Ve=m("div",{class:"q-mb-sm"},[m("span",null,"Dark Mode allows you to switch between a light or dark themed app."),m("span",null," Show Console Logs will display all log messages in the developer console when turned on. "),m("span",null,"Show Debug Messages will display debug level notification alerts when on."),m("span",null," Save Info Messages will save info level messages in the logs table of the database for later review. ")],-1),Ae=_({__name:"OptionsSection",setup(e){return(t,s)=>(x(),y(u(G),null,{default:O(()=>[Be,Ve,g(Ne),g($e,{class:"q-mt-sm"})]),_:1}))}}),Pe=[{id:"0090f468-5917-4124-98bd-1e7711ab360e",createdDate:"2022-01-01T05:00:00.000Z",name:"Neck",measurementType:"Inches"},{id:"09108d87-8337-4424-83a1-1ee5be5e8585",createdDate:"2022-01-01T05:00:00.000Z",name:"Left Calve",measurementType:"Inches"},{id:"0ee16da1-3c8d-48fc-9af1-41ec09cf6317",createdDate:"2022-01-01T05:00:00.000Z",name:"Right Calve",measurementType:"Inches"},{id:"222452a2-aa29-460e-85a8-4617092d1ba5",createdDate:"2022-01-01T05:00:00.000Z",name:"Shoulders",measurementType:"Inches"},{id:"3e3d0d91-3280-491d-967e-d56dcfc51520",createdDate:"2022-01-01T05:00:00.000Z",name:"Left Thigh",measurementType:"Inches"},{id:"43e3fc4e-b419-468c-9888-b5e072d81dfb",createdDate:"2022-01-01T05:00:00.000Z",name:"Body Fat",measurementType:"%"},{id:"843c6b0f-ce23-4468-9d67-dd1af076b10a",createdDate:"2022-01-01T05:00:00.000Z",name:"Right Thigh",measurementType:"Inches"},{id:"880cb344-e537-4f0f-bad4-e212a6df51cd",createdDate:"2022-01-01T05:00:00.000Z",name:"Chest",measurementType:"Inches"},{id:"96c7229d-91e8-4470-b0a9-ebb1234fe6e7",createdDate:"2022-01-01T05:00:00.000Z",name:"Left Forearm",measurementType:"Inches"},{id:"9fddbad2-ba89-4476-95e4-10d9969e782c",createdDate:"2022-01-01T05:00:00.000Z",name:"Right Bicep",measurementType:"Inches"},{id:"b4450018-1506-450f-a429-9903aded5c9b",createdDate:"2022-01-01T05:00:00.000Z",name:"Body Weight",measurementType:"Lbs"},{id:"e126e959-1675-4b3b-866c-261e453d8dae",createdDate:"2022-01-01T05:00:00.000Z",name:"Left Bicep",measurementType:"Inches"},{id:"ed12d669-cffd-45f7-802c-9025426341fa",createdDate:"2022-01-01T05:00:00.000Z",name:"Waist",measurementType:"Inches"},{id:"fa4c25c7-e1d5-48bf-975a-4fdfd2305646",createdDate:"2022-01-01T05:00:00.000Z",name:"Right Forearm",measurementType:"Inches"}],Me=_({__name:"DefaultMeasurementsButton",setup(e){const{log:t}=V(),{confirmDialog:s}=q();function f(){s("Load Defaults","Load default Measurements into the database?",L.INFO,E.INFO,async()=>{try{await a()}catch(c){t.error("DefaultMeasurementsButton:onDefaults",c)}})}async function a(){await w.bulkAdd(W.MEASUREMENTS,Pe)}return(c,l)=>(x(),y(u(A),{label:"Load Default Measurements",color:"primary",onClick:l[0]||(l[0]=r=>f())}))}}),qe=[{id:"8a122c71-57f5-4765-bed8-1d85c626229b",createdDate:"2022-01-01T05:00:00.000Z",name:"Farmer's Walk",exerciseTracks:"Weight & Reps"},{id:"7d8ebfc8-c9d2-48f0-9abd-99411d0d5cbe",createdDate:"2022-01-01T05:00:00.000Z",name:"Warm-up",exerciseTracks:"Reminder Only"},{id:"3df82a9d-9ebc-4816-9a26-994f33ef892e",createdDate:"2022-01-01T05:00:00.000Z",name:"Cool-down",exerciseTracks:"Reminder Only"},{id:"adc82c70-683c-4594-b9fc-cfa0c5e73eeb",createdDate:"2022-01-01T05:00:00.000Z",name:"Jumping Jacks",exerciseTracks:"Weight & Reps"},{id:"a49932ad-f07c-4529-8d77-faf7f3145ee9",createdDate:"2022-01-01T05:00:00.000Z",name:"Mountain Climbers",exerciseTracks:"Weight & Reps"},{id:"6ddbf5c0-a911-4586-b7dd-32031bc73871",createdDate:"2022-01-01T05:00:00.000Z",name:"High Knees",exerciseTracks:"Weight & Reps"},{id:"1e01e67c-48ea-431d-a438-ac0de56d3e56",createdDate:"2022-01-01T05:00:00.000Z",name:"Burpees",exerciseTracks:"Weight & Reps"},{id:"3d5ad916-8f1e-4266-bcf0-b9283a2acf2a",createdDate:"2022-01-01T05:00:00.000Z",name:"High Arms Alternating Knees",exerciseTracks:"Weight & Reps"},{id:"4e4bdeb5-61e6-4dcd-8b5c-9a94e5cc087a",createdDate:"2022-01-01T05:00:00.000Z",name:"Straight Lunges",exerciseTracks:"Weight & Reps"},{id:"01e6cede-9a86-48a6-8199-47a033635082",createdDate:"2022-01-01T05:00:00.000Z",name:"Side Lunges",exerciseTracks:"Weight & Reps"},{id:"293e5f14-e8fb-4667-b3e5-04f1e8bdd5d6",createdDate:"2022-01-01T05:00:00.000Z",name:"Stretching",exerciseTracks:"Reminder Only"},{id:"d681459e-10c8-40ae-94e9-9b06b7c40367",createdDate:"2022-01-01T05:00:00.000Z",name:"Bench Press",exerciseTracks:"Weight & Reps"},{id:"6e921d7e-a244-4224-8ea5-2c77473b1b7e",createdDate:"2022-01-01T05:00:00.000Z",name:"Chest Press",exerciseTracks:"Weight & Reps"},{id:"0e91d1fa-3b5b-4e29-961a-659c2e4db1e7",createdDate:"2022-01-01T05:00:00.000Z",name:"Incline Bench Press",exerciseTracks:"Weight & Reps"},{id:"02085377-263d-4327-bd6c-d859b91e4315",createdDate:"2022-01-01T05:00:00.000Z",name:"Incline Chest Press",exerciseTracks:"Weight & Reps"},{id:"47ef3bd5-dd0f-4cf6-a1a6-299d934db22f",createdDate:"2022-01-01T05:00:00.000Z",name:"Decline Bench Press",exerciseTracks:"Weight & Reps"},{id:"5aeaa5bd-7a60-404f-82b1-4ab95663c08d",createdDate:"2022-01-01T05:00:00.000Z",name:"Decline Chest Press",exerciseTracks:"Weight & Reps"},{id:"c4da853a-2a01-4dd1-87b8-81b418c42395",createdDate:"2022-01-01T05:00:00.000Z",name:"Diamond Push-ups",exerciseTracks:"Weight & Reps"},{id:"d03c4ffa-f40c-4851-8bf0-042616edeae0",createdDate:"2022-01-01T05:00:00.000Z",name:"Military Push-ups",exerciseTracks:"Weight & Reps"},{id:"cbbf4ef8-d9e5-4b72-9cf5-42d6d4ba3c34",createdDate:"2022-01-01T05:00:00.000Z",name:"Standard Push-ups",exerciseTracks:"Weight & Reps"},{id:"5def6f0c-3e42-4387-aeee-df49d7c4b691",createdDate:"2022-01-01T05:00:00.000Z",name:"Wide Push-ups",exerciseTracks:"Weight & Reps"},{id:"51614637-5848-44ce-95fa-40b56c259452",createdDate:"2022-01-01T05:00:00.000Z",name:"Pike Push-ups",exerciseTracks:"Weight & Reps"},{id:"b4c36c38-94b2-4a68-9505-0478df1298ee",createdDate:"2022-01-01T05:00:00.000Z",name:"Chest Side Pulls",exerciseTracks:"Weight & Reps"},{id:"cc279615-91a6-42ac-a073-4339e7c2034f",createdDate:"2022-01-01T05:00:00.000Z",name:"Overhead Press",exerciseTracks:"Weight & Reps"},{id:"8b4baa5b-65b6-455c-9d59-b4b785ee4966",createdDate:"2022-01-01T05:00:00.000Z",name:"Side Arm Raises",exerciseTracks:"Weight & Reps"},{id:"4f931a11-b6c2-408d-827a-7e4e8aca9ded",createdDate:"2022-01-01T05:00:00.000Z",name:"Front Arm Raises",exerciseTracks:"Weight & Reps"},{id:"2fe5999e-404c-481d-a3fa-f5a72a4ac39f",createdDate:"2022-01-01T05:00:00.000Z",name:"Shrugs",exerciseTracks:"Weight & Reps"},{id:"4d461fb6-f705-4246-84dc-2d3952cc4976",createdDate:"2022-01-01T05:00:00.000Z",name:"Tricep Kickbacks",exerciseTracks:"Weight & Reps"},{id:"c76bbb38-d537-49b0-9c33-cc3339a56718",createdDate:"2022-01-01T05:00:00.000Z",name:"Tricep Pulldowns",exerciseTracks:"Weight & Reps"},{id:"29abad49-443c-4e6e-8003-a2a63816c30f",createdDate:"2022-01-01T05:00:00.000Z",name:"Tricep Overhead Extentions",exerciseTracks:"Weight & Reps"},{id:"14d81138-a414-4504-8929-cfeeb3d29f4a",createdDate:"2022-01-01T05:00:00.000Z",name:"Laying Tricep Extension",exerciseTracks:"Weight & Reps"},{id:"22ef8c5c-1b4f-496d-b28c-dde777f7bb86",createdDate:"2022-01-01T05:00:00.000Z",name:"Dips",exerciseTracks:"Weight & Reps"},{id:"10e2dd01-9f6f-4c0a-a9c1-b7c738f4c476",createdDate:"2022-01-01T05:00:00.000Z",name:"Bent Over Back Flyes",exerciseTracks:"Weight & Reps"},{id:"08b12cc1-d4b9-4d22-82db-9e33b3e5c3fa",createdDate:"2022-01-01T05:00:00.000Z",name:"Bent Over Rows",exerciseTracks:"Weight & Reps"},{id:"3af92ca9-66e9-4e97-88d9-f70af00251f1",createdDate:"2022-01-01T05:00:00.000Z",name:"Stiff Leg Deadlift",exerciseTracks:"Weight & Reps"},{id:"b8f1a60e-7f21-4f62-8757-d9b371bffd45",createdDate:"2022-01-01T05:00:00.000Z",name:"Deadlift",exerciseTracks:"Weight & Reps"},{id:"8c103b3b-dd21-4d67-a0c9-1cd1b6451046",createdDate:"2022-01-01T05:00:00.000Z",name:"Standard Pull-ups",exerciseTracks:"Weight & Reps"},{id:"7f56b90f-5c5a-4ff7-97c1-7c64ba668223",createdDate:"2022-01-01T05:00:00.000Z",name:"Wide Overhand Pull-ups",exerciseTracks:"Weight & Reps"},{id:"9907b74a-36cc-45a9-8ab7-fb6a571ded3d",createdDate:"2022-01-01T05:00:00.000Z",name:"Chin-ups",exerciseTracks:"Weight & Reps"},{id:"23f2ed58-085e-4928-a8c9-cdd7cbf0f3e3",createdDate:"2022-01-01T05:00:00.000Z",name:"Hammer Grip Pull-ups",exerciseTracks:"Weight & Reps"},{id:"56b4c658-5e9b-47f2-a695-e13bcc961bcb",createdDate:"2022-01-01T05:00:00.000Z",name:"Face Pulls",exerciseTracks:"Weight & Reps"},{id:"093c1896-b6dd-4ec7-9d4e-10c02f01b3c3",createdDate:"2022-01-01T05:00:00.000Z",name:"T-Rows",exerciseTracks:"Weight & Reps"},{id:"dfef3f6c-e8ea-4ea9-a521-ed653f67d6b0",createdDate:"2022-01-01T05:00:00.000Z",name:"Overhand Bicep Curls",exerciseTracks:"Weight & Reps"},{id:"311df83a-1be8-46ad-a31d-58343552d9ac",createdDate:"2022-01-01T05:00:00.000Z",name:"Underhand Bicep Curls",exerciseTracks:"Weight & Reps"},{id:"e6a59544-17d2-4fd5-9458-907297d4bd24",createdDate:"2022-01-01T05:00:00.000Z",name:"Hammer Bicep Curls",exerciseTracks:"Weight & Reps"},{id:"50c1fc75-0975-45f8-8177-ff4988b00de2",createdDate:"2022-01-01T05:00:00.000Z",name:"Squats",exerciseTracks:"Weight & Reps"},{id:"dd856a31-bb05-40ab-9684-91aec544a543",createdDate:"2022-01-01T05:00:00.000Z",name:"Leg Curls",exerciseTracks:"Weight & Reps"},{id:"378d89a9-e972-4e11-b5a5-766b2c75b686",createdDate:"2022-01-01T05:00:00.000Z",name:"Leg Extensions",exerciseTracks:"Weight & Reps"},{id:"2489bb27-e4c3-4e75-9b0d-df3a4b68b9c6",createdDate:"2022-01-01T05:00:00.000Z",name:"Calf Raises",exerciseTracks:"Weight & Reps"},{id:"a40d7864-289b-4296-8241-ee242410c376",createdDate:"2022-01-01T05:00:00.000Z",name:"Calf Raises",exerciseTracks:"Weight & Reps"},{id:"15fbfa18-18c0-4c94-9a8f-93eb96a4a95d",createdDate:"2022-01-01T05:00:00.000Z",name:"Hip Thrusters",exerciseTracks:"Weight & Reps"},{id:"38a27068-8ad1-4726-a26e-e7b582a9f112",createdDate:"2022-01-01T05:00:00.000Z",name:"Oblique Side Bends",exerciseTracks:"Weight & Reps"},{id:"76af9305-f3a9-4abd-abe2-bfeacf6e4f0e",createdDate:"2022-01-01T05:00:00.000Z",name:"Abdominal Crunch",exerciseTracks:"Weight & Reps"},{id:"e19c8ed4-a54d-41a5-a79e-794339fb60a6",createdDate:"2022-01-01T05:00:00.000Z",name:"Alternating Torso Twist",exerciseTracks:"Weight & Reps"},{id:"c2faa48b-f16e-49fe-a6e3-ff688439544b",createdDate:"2022-01-01T05:00:00.000Z",name:"Russian Twist",exerciseTracks:"Weight & Reps"}],je=_({__name:"DefaultExercisesButton",setup(e){const{log:t}=V(),{confirmDialog:s}=q();function f(){s("Load Defaults","Load default Exercises into the database?",L.INFO,E.INFO,async()=>{try{await a()}catch(c){t.error("DefaultExercisesButton:onDefaults",c)}})}async function a(){await w.bulkAdd(W.EXERCISES,qe)}return(c,l)=>(x(),y(u(A),{label:"Load Default Exercises",color:"primary",onClick:l[0]||(l[0]=r=>f())}))}}),ze=[{id:"2158e1b2-27e0-4012-bb14-3846b3ee1d6a",createdDate:"2022-01-01T05:00:00.000Z",name:"Legacy StrongLifts 5x5 - Alpha",exerciseIds:["50c1fc75-0975-45f8-8177-ff4988b00de2","d681459e-10c8-40ae-94e9-9b06b7c40367","08b12cc1-d4b9-4d22-82db-9e33b3e5c3fa"]},{id:"f3a1537c-4d63-43e1-99bd-df5ef59ac220",createdDate:"2022-01-01T05:00:00.000Z",name:"Legacy StrongLifts 5x5 - Beta",exerciseIds:["50c1fc75-0975-45f8-8177-ff4988b00de2","cc279615-91a6-42ac-a073-4339e7c2034f","b8f1a60e-7f21-4f62-8757-d9b371bffd45"]}],Ue=_({__name:"DefaultWorkoutsButton",setup(e){const{log:t}=V(),{confirmDialog:s}=q();function f(){s("Load Defaults","Load default Workouts into the database?",L.INFO,E.INFO,async()=>{try{await a()}catch(c){t.error("DefaultWorkoutsButton:onDefaults",c)}})}async function a(){await w.bulkAdd(W.WORKOUTS,ze)}return(c,l)=>(x(),y(u(A),{label:"Load Default Workouts",color:"primary",onClick:l[0]||(l[0]=r=>f())}))}}),Qe=m("div",{class:"text-h6 q-mb-sm"},"Database Defaults",-1),Ge=m("div",{class:"q-mb-md"}," Load default data into the database that you can begin using right away. ",-1),Ke={class:"q-mt-md"},He={class:"q-mt-md"},Je=_({__name:"DefaultsSection",setup(e){return(t,s)=>(x(),y(u(G),null,{default:O(()=>[Qe,Ge,m("div",null,[g(Me)]),m("div",Ke,[g(je)]),m("div",He,[g(Ue)])]),_:1}))}});function z(e,t,s,f){const a=[];return e.forEach(c=>{f(c)===!0?a.push(c):t.push({failedPropValidation:s,file:c})}),a}function X(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),ue(e)}const Ye={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Xe=["rejected"];function ea({editable:e,dnd:t,getFileInput:s,addFilesToQueue:f}){const{props:a,emit:c,proxy:l}=de(),r=Q(null),o=D(()=>a.accept!==void 0?a.accept.split(",").map(n=>(n=n.trim(),n==="*"?"*/":(n.endsWith("/*")&&(n=n.slice(0,n.length-1)),n.toUpperCase()))):null),i=D(()=>parseInt(a.maxFiles,10)),T=D(()=>parseInt(a.maxTotalSize,10));function k(n){if(e.value)if(n!==Object(n)&&(n={target:null}),n.target!==null&&n.target.matches('input[type="file"]')===!0)n.clientX===0&&n.clientY===0&&De(n);else{const R=s();R&&R!==n.target&&R.click(n)}}function I(n){e.value&&n&&f(null,n)}function S(n,R,$,U){let p=Array.from(R||n.target.files);const Z=[],B=()=>{Z.length>0&&c("rejected",Z)};if(a.accept!==void 0&&o.value.indexOf("*/")===-1&&(p=z(p,Z,"accept",b=>o.value.some(v=>b.type.toUpperCase().startsWith(v)||b.name.toUpperCase().endsWith(v))),p.length===0))return B();if(a.maxFileSize!==void 0){const b=parseInt(a.maxFileSize,10);if(p=z(p,Z,"max-file-size",v=>v.size<=b),p.length===0)return B()}if(a.multiple!==!0&&p.length>0&&(p=[p[0]]),p.forEach(b=>{b.__key=b.webkitRelativePath+b.lastModified+b.name+b.size}),U===!0){const b=$.map(v=>v.__key);p=z(p,Z,"duplicate",v=>b.includes(v.__key)===!1)}if(p.length===0)return B();if(a.maxTotalSize!==void 0){let b=U===!0?$.reduce((v,ee)=>v+ee.size,0):0;if(p=z(p,Z,"max-total-size",v=>(b+=v.size,b<=T.value)),p.length===0)return B()}if(typeof a.filter=="function"){const b=a.filter(p);p=z(p,Z,"filter",v=>b.includes(v))}if(a.maxFiles!==void 0){let b=U===!0?$.length:0;if(p=z(p,Z,"max-files",()=>(b++,b<=i.value)),p.length===0)return B()}if(B(),p.length>0)return p}function F(n){X(n),t.value!==!0&&(t.value=!0)}function h(n){ue(n),(n.relatedTarget!==null||ve.is.safari!==!0?n.relatedTarget!==r.value:document.elementsFromPoint(n.clientX,n.clientY).includes(r.value)===!1)===!0&&(t.value=!1)}function P(n){X(n);const R=n.dataTransfer.files;R.length>0&&f(null,R),t.value=!1}function j(n){if(t.value===!0)return M("div",{ref:r,class:`q-${n}__dnd absolute-full`,onDragenter:X,onDragover:X,onDragleave:h,onDrop:P})}return Object.assign(l,{pickFiles:k,addFiles:I}),{pickFiles:k,addFiles:I,onDragover:F,onDragleave:h,processFiles:S,getDndNode:j,maxFilesNumber:i,maxTotalSizeNumber:T}}const aa=_e({name:"QFile",inheritAttrs:!1,props:{...xe,...ye,...Ye,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ke,...Xe],setup(e,{slots:t,emit:s,attrs:f}){const{proxy:a}=de(),c=Se(),l=Q(null),r=Q(!1),o=Re(e),{pickFiles:i,onDragover:T,onDragleave:k,processFiles:I,getDndNode:S}=ea({editable:c.editable,dnd:r,getFileInput:ne,addFilesToQueue:re}),F=Ie(e),h=D(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),P=D(()=>ie(h.value)),j=D(()=>h.value.map(d=>d.name).join(", ")),n=D(()=>Oe(h.value.reduce((d,C)=>d+C.size,0))),R=D(()=>({totalSize:n.value,filesNumber:h.value.length,maxFiles:e.maxFiles})),$=D(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:o.value,...f,id:c.targetUid.value,disabled:c.editable.value!==!0})),U=D(()=>"q-file q-field--auto-height"+(r.value===!0?" q-file--dnd":"")),p=D(()=>e.multiple===!0&&e.append===!0);function Z(d){const C=h.value.slice();C.splice(d,1),b(C)}function B(d){const C=h.value.findIndex(d);C>-1&&Z(C)}function b(d){s("update:modelValue",e.multiple===!0?d:d[0])}function v(d){d.keyCode===13&&Ze(d)}function ee(d){(d.keyCode===13||d.keyCode===32)&&i(d)}function ne(){return l.value}function re(d,C){const N=I(d,C,h.value,p.value),ae=ne();ae!=null&&(ae.value=""),N!==void 0&&((e.multiple===!0?e.modelValue&&N.every(ge=>h.value.includes(ge)):e.modelValue===N[0])||b(p.value===!0?h.value.concat(N):N))}function K(){return[M("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function me(){if(t.file!==void 0)return h.value.length===0?K():h.value.map((C,N)=>t.file({index:N,file:C,ref:this}));if(t.selected!==void 0)return h.value.length===0?K():t.selected({files:h.value,ref:this});if(e.useChips===!0)return h.value.length===0?K():h.value.map((C,N)=>M(Ee,{key:"file-"+N,removable:c.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{Z(N)}},()=>M("span",{class:"ellipsis",textContent:C.name})));const d=e.displayValue!==void 0?e.displayValue:j.value;return d.length>0?[M("div",{class:e.inputClass,style:e.inputStyle,textContent:d})]:K()}function pe(){const d={ref:l,...$.value,...F.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:re};return e.multiple===!0&&(d.multiple=!0),M("input",d)}return Object.assign(c,{fieldClass:U,emitValue:b,hasValue:P,inputRef:l,innerValue:h,floatingLabel:D(()=>P.value===!0||ie(e.displayValue)),computedCounter:D(()=>{if(e.counterLabel!==void 0)return e.counterLabel(R.value);const d=e.maxFiles;return`${h.value.length}${d!==void 0?" / "+d:""} (${n.value})`}),getControlChild:()=>S("file"),getControl:()=>{const d={ref:c.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return c.editable.value===!0&&Object.assign(d,{onDragover:T,onDragleave:k,onKeydown:v,onKeyup:ee}),M("div",d,[pe()].concat(me()))}}),Object.assign(a,{removeAtIndex:Z,removeFile:B,getNativeElement:()=>l.value}),Ce(c)}}),ta=_({__name:"ImportInput",setup(e){const{log:t,consoleDebug:s}=V(),{confirmDialog:f}=q(),a=Q(null),c=10485760;function l(i){var F,h,P,j,n,R,$;const T=((h=(F=i[0])==null?void 0:F.file)==null?void 0:h.name)||void 0,k=((j=(P=i[0])==null?void 0:P.file)==null?void 0:j.size)||void 0,I=((R=(n=i[0])==null?void 0:n.file)==null?void 0:R.type)||void 0,S=(($=i[0])==null?void 0:$.failedPropValidation)||void 0;s(i),t.warn(`Cannot import ${T}`,{name:S,message:`NAME: ${T}, SIZE: ${k}, TYPE: ${I}`,stack:"onRejectedImport"})}function r(){f("Import",`Import file "${a.value.name}" and attempt to load data from it?`,L.INFO,E.INFO,async()=>{try{await o()}catch(i){t.error("onImport",i)}})}async function o(){const i=await a.value.text(),T=JSON.parse(i),k=Object.values(W),I=k.reduce((S,F)=>({...S,[F]:T[F]||[]}),{});s(I),await Promise.all(k.map(S=>{S!==W.LOGS&&S!==W.SETTINGS&&w.bulkAdd(S,I[S])}))}return(i,T)=>(x(),y(u(aa),{modelValue:a.value,"onUpdate:modelValue":T[2]||(T[2]=k=>a.value=k),dense:"",outlined:"",counter:"","bottom-slots":"",label:"File","max-file-size":c,accept:"application/json",onRejected:l},{before:O(()=>[g(u(A),{disable:!a.value,label:"Import",color:"primary",class:"q-mr-xs",onClick:T[0]||(T[0]=k=>r())},null,8,["disable"])]),after:O(()=>[g(se,{name:u(L).CLOSE,onClick:T[1]||(T[1]=fe(k=>a.value=null,["stop"])),class:"cursor-pointer"},null,8,["name"])]),_:1},8,["modelValue"]))}});function ce(e){setTimeout(()=>{window.URL.revokeObjectURL(e.href)},1e4),e.remove()}function sa(e,t,s={}){const{mimeType:f,byteOrderMark:a,encoding:c}=typeof s=="string"?{mimeType:s}:s,l=c!==void 0?new TextEncoder(c).encode([t]):t,r=a!==void 0?[a,l]:[l],o=new Blob(r,{type:f||"application/octet-stream"}),i=document.createElement("a");i.href=window.URL.createObjectURL(o),i.setAttribute("download",e),typeof i.download>"u"&&i.setAttribute("target","_blank"),i.classList.add("hidden"),i.style.position="fixed",document.body.appendChild(i);try{return i.click(),ce(i),!0}catch(T){return ce(i),T}}const na=_({__name:"ExportInput",setup(e){const{log:t,consoleDebug:s}=V(),{confirmDialog:f}=q(),a=Q("");function c(){let r=`export-${new Date().toISOString().split("T")[0]}`;a.value&&a.value.length&&(r=a.value),r+=".json",f("Export",`Export the file "${r}" with your data?`,L.INFO,E.INFO,async()=>{try{await l(r)}catch(o){t.error("onExport",o)}})}async function l(r){const o=Object.values(W),i=await Promise.all(o.map(I=>w.getAll(I))),T=o.reduce((I,S,F)=>({...I,[S]:i[F]}),{});if(s(T),sa(r,JSON.stringify(T),{encoding:"UTF-8",mimeType:"application/json"})===!0)s("File downloaded succesfully!");else throw new Error("Browser denied file download")}return(r,o)=>(x(),y(u(we),{modelValue:a.value,"onUpdate:modelValue":o[2]||(o[2]=i=>a.value=i),dense:"",outlined:"",placeholder:"Optional Name"},{before:O(()=>[g(u(A),{label:"Export",color:"primary",class:"q-mr-xs",onClick:o[0]||(o[0]=i=>c())})]),after:O(()=>[g(se,{name:u(L).CLOSE,onClick:o[1]||(o[1]=fe(i=>a.value="",["stop"])),class:"cursor-pointer"},null,8,["name"])]),_:1},8,["modelValue"]))}}),ra=m("div",{class:"text-h6 q-mb-sm"},"Import & Export",-1),ia=m("div",{class:"q-mb-md"},"You can import data into the database from a JSON file.",-1),ca=m("div",{class:"q-mb-md"},"You can export the entire database as a JSON file.",-1),la=_({__name:"ImportExportSection",setup(e){return(t,s)=>(x(),y(u(G),null,{default:O(()=>[ra,ia,g(ta),ca,g(na)]),_:1}))}}),oa=_({__name:"ClearAllBtn",setup(e){const{log:t}=V(),{confirmDialog:s}=q(),f=oe(),a=le();async function c(){s("Clear All","Permanetly remove all app data from the database?",L.DELETE,E.ERROR,async()=>{try{await Promise.all(Object.values(W).map(l=>w.clear(l))),await f.initSettings(w),a.dark.set(f.darkMode)}catch(l){t.error("ClearAllBtn:onClearAll",l)}})}return(l,r)=>(x(),y(u(A),{label:"Clear All",color:u(E).ERROR,onClick:r[0]||(r[0]=o=>c())},null,8,["color"]))}}),da=_({__name:"DeleteDBBtn",setup(e){const{log:t}=V(),{confirmDialog:s,dismissDialog:f}=q();async function a(){s("Delete Database","Delete the underlining Dexie database? This only needs to be done to correct schema changes in newer versions of the app. All data will be lost.",L.DELETE,E.ERROR,async()=>{try{await w.deleteDatabase(),c()}catch(l){t.error("DeleteDBBtn:onDeleteDB",l)}})}function c(){f("Reload Reminder","Please reload the website now.",L.INFO,E.INFO)}return(l,r)=>(x(),y(u(A),{label:"Delete Database",color:u(E).ERROR,onClick:r[0]||(r[0]=o=>a())},null,8,["color"]))}}),ua=m("div",{class:"text-h6 q-mb-sm"},"DANGER ZONE",-1),fa=m("div",{class:"q-mb-md"},[m("span",null,"Permanetly delete all of your data from the database using Clear All."),m("span",null," Permanetly delete your data and the underlining database using Delete Database (requires site reload). "),m("span",null," None of the actions in this section can be undone. Export your data before proceeding. ")],-1),ma={class:"q-mt-md"},pa=_({__name:"DangerZoneSection",setup(e){return(t,s)=>(x(),y(u(G),null,{default:O(()=>[m("div",null,[ua,fa,m("div",null,[g(oa)]),m("div",ma,[g(da)])])]),_:1}))}}),ga={class:"row justify-center"},ba={class:"col-12"},ha=_({__name:"SettingsPage",setup(e){return(t,s)=>(x(),y(u(Fe),{padding:""},{default:O(()=>[m("div",ga,[m("div",ba,[g(We,null,{default:O(()=>[g(Le),g(Ae),g(te),g(Je),g(te),g(la),g(te),g(pa)]),_:1})])])]),_:1}))}}),xa=_({__name:"SettingsView",setup(e){return(t,s)=>(x(),y(ha))}});export{xa as default};
